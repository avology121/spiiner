<!DOCTYPE html>
<html lang="en">
<head>
  <title>Walks</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="images/favicon.png" type="image/x-icon">
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/owl.carousel.css" />
  <link rel="stylesheet" href="css/owl.theme.default.css" />
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/responsive.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <link rel="stylesheet" href="fonts/stylesheet.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap" rel="stylesheet">

<body class="header">




<section class="signupmain spinne">
<video autoplay loop muted>
		  <source src="images/spinner-video2.mp4" type="video/mp4">
	</video>
	<div class="container">
	<h2>The standard Lorem Ipsum passage</h2>
		<div class="row">
		 
		<div class="col-md-12 text-center">
		  <div class="wheel-spin-box">
				<div id="spinwheel">
					<div class="wheeldotsround">
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
						<div class="wheeldots"></div>
					</div>
				</div>
				<div id="spin-arrow" class="wheel-spin-arrow">
							<svg width="83" height="74" viewBox="0 0 83 74" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M32.9489 5.12466C33.8289 3.59888 35.0943 2.3319 36.618 1.45104C38.1417 0.570174 39.8701 0.106445 41.6294 0.106445C43.3888 0.106445 45.1171 0.570174 46.6409 1.45104C48.1646 2.3319 49.43 3.59888 50.31 5.12466L80.9178 58.1922C81.7993 59.7185 82.264 61.4504 82.265 63.2137C82.2659 64.9769 81.8032 66.7094 80.9234 68.2366C80.0435 69.7639 78.7776 71.0322 77.2529 71.9139C75.7282 72.7955 73.9986 73.2595 72.238 73.2591H11.0223C9.26269 73.259 7.53405 72.7951 6.01016 71.9139C4.48627 71.0327 3.22083 69.7653 2.34102 68.2391C1.46121 66.7128 0.998036 64.9815 0.998047 63.2192C0.998058 61.4569 1.46125 59.7256 2.34108 58.1994L32.9489 5.12466Z" fill="#2F911E"/>
					</svg>
				</div>
			</div>
		</div>
		<div class="col-md-12 text-center mb-4">
		  <button id="spin" class="spin-click-button">Spin the Wheel</button>
		</div>
		</div>
	</div>
</section>


<footer class="footer">
  
   <div class="ftr-links">
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<p class="cpy-rt text-center">Â© 2022 Experience - All Rights Reserved.</p>
			</div>
		</div>
	</div>
   </div>
</footer>

<script src="js/jquery.js"></script>
<script src="js/bootstrap.js"></script>
<script src="js/owl.carousel.js"></script>

<script src="https://d3js.org/d3.v3.min.js"></script>
  <script>
    $('.owl-carousel').owlCarousel({
      loop: true,
      margin: 20,
      nav: true,
      responsive: {
        0: {
          items: 1
        }
      }
    })
  </script>
<script>
  function openNav() {
    document.getElementById("mySidenavs").style.width = "280px";
  }
  
  function closeNav() {
    document.getElementById("mySidenavs").style.width = "0";
  }
  
  
  
  
  
  // -----wheel-spin-js------
var padding = {top:0, right:0, bottom:0, left:0},
            w = 400 - padding.left - padding.right,
            h = 400 - padding.top  - padding.bottom,
            r = Math.min(w, h)/2,
            rotation = 0,
            oldrotation = 0,
            picked = 100000,
            oldpick = [],
            color = d3.scale.category20();//category20c()
            //randomNumbers = getRandomNumbers();
        
        var data = [
                    {"label":"0x", "value":1, "xp":"you Lost 0x"},
                    {"label":"2x", "value":1, "xp":"you Win 2x"},
                    {"label":"0x", "value":1, "xp":"you Lost 0x"},
                    {"label":"2x", "value":1, "xp":"you Win 2x"},
                    {"label":"0x", "value":1, "xp":"you Lost 0x"},
                    {"label":"2x", "value":1, "xp":"you Win 2x"}
        ];
        var svg = d3.select('#spinwheel')
            .append("svg")
			.data([data])
			.attr("xmlns",  "http://www.w3.org/2000/svg")
			.attr('viewBox', '0 0 '+w+' '+w+'')
            .attr("width",  w)
			.attr("height", h + padding.top + padding.bottom);
        var container = svg.append("g")
            .attr("class", "chartholder")
            .attr("transform", "translate(" + (w/2 + padding.left) + "," + (h/2 + padding.top) + ")");
        var vis = container.append("g");
            
		var pie = d3.layout.pie().sort(null).value(function(d){return 1;});
        // declare an arc generator function
        var arc = d3.svg.arc().outerRadius(r);
        // select paths, use arc generator to draw
        var arcs = vis.selectAll("g.slice")
            .data(pie)
            .enter()
            .append("g")
            .attr("class", "slice");
            
        	arcs.append("path")
            .attr("fill", function(d, i){ return color(i); })
            .attr("d", function (d) { return arc(d); });
        	// add the text
       		arcs.append("text").attr("transform", function(d){
                d.innerRadius = 0;
                d.outerRadius = r;
                d.angle = (d.startAngle + d.endAngle)/2;
                return "rotate(" + (d.angle * 180 / Math.PI - 90) + ")translate(" + (d.outerRadius - 60) +")";
            }).attr('font-size', '20').attr('fill', '#ffffff')
            .attr("text-anchor", "end")
            .text( function(d, i) {
                return data[i].label;
            });
		$('#spin').on("click", spin);
		function spin(d){
            
            $('#spin').on("click", null);
            //all slices have been seen, all done
            //console.log("OldPick: " + oldpick.length, "Data length: " + data.length);
            if(oldpick.length == data.length){
                console.log("done");
                $('#spin').on("click", null);
                return;
            }
            var  ps       = 360/data.length,
                 pieslice = Math.round(1440/data.length),
				 rng      = Math.floor((Math.random() * 1440) + 360);
                
            rotation = (Math.round(rng / ps) * ps);
			//console.log(rotation);
			
			picked = Math.round(data.length - (rotation % 360)/ps) + 2;
			
			picked = picked >= data.length ? (picked % data.length) : picked;
            if(oldpick.indexOf(picked) !== -1){
                d3.select(this).call(spin);
                return;
            } else {
                oldpick.push(picked);
            }
			rotation += 90 - Math.round(ps/1);
			var interval = setInterval(function () {
				$('.wheeldots').addClass('active-dots');
				setTimeout(function () { 
					$('.wheeldots').removeClass('active-dots');
			 	}, 100);
			});
            vis.transition()
                .duration(3000)
                .attrTween("transform", rotTween)
                .each("end", function(){
					clearInterval(interval);
                    //mark question as seen
                    d3.select(".slice:nth-child(" + (picked + 1) + ") path")
                    //populate question
                    d3.select("#question h1").text(data[picked].question);
					oldrotation = rotation;
					alert(data[picked].xp);
                
                    //container.on("click", spin);
                });
        }
        //make arrow
        // svg.append("g")
        //     .attr("transform", "translate(" + (w + padding.left + padding.right) + "," + ((h/2)+padding.top) + ")")
        //     .append("path")
        //     .attr("d", "M-" + (r*.15) + ",0L0," + (r*.05) + "L0,-" + (r*.05) + "Z")
        //     .style({"fill":"black"});
        //draw spin circle
        container.append("circle")
            .attr("cx", 0)
            .attr("cy", 0)
            .attr("r", 30)
            .style({"fill":"#ffffff"});
        //spin text
        // container.append("text")
        //     .attr("x", 0)
        //     .attr("y", 15)
        //     .attr("text-anchor", "middle")
        //     .text("SPIN")
        //     .style({"font-weight":"bold", "font-size":"30px"});
        
        
        function rotTween(to) {
          var i = d3.interpolate(oldrotation % 360, rotation);
          return function(t) {
            return "rotate(" + i(t) + ")";
          };
        }
        
        
        function getRandomNumbers(){
            var array = new Uint16Array(1000);
            var scale = d3.scale.linear().range([360, 1440]).domain([0, 100000]);
            if(window.hasOwnProperty("crypto") && typeof window.crypto.getRandomValues === "function"){
                window.crypto.getRandomValues(array);
                console.log("works");
            } else {
                //no support for crypto, get crappy random numbers
                for(var i=0; i < 1000; i++){
                    array[i] = Math.floor(Math.random() * 100000) + 1;
                }
            }
            return array;
        }


  </script>

</body>
</html>
